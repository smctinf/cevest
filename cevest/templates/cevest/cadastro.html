{% extends "cevest/base.html" %}

{% load staticfiles %}

{% block content %}

  <script language="JavaScript">
    function abrir(URL) {

      var width = 450;
      var height = 400;

      var left = 99;
      var top = 99;

      window.open(URL,'janela', 'width='+width+', height='+height+', top='+top+', left='+left+', scrollbars=yes, status=no, toolbar=no, location=no, directories=no, menubar=no, resizable=no, fullscreen=no');

    }
  </script>


  <div class="container">
    <div class="py-5 text-center">
      <h2>Formulário de Cadastro</h2>
      <p class="lead">Após preenchido este cadastro, você fará parte de uma lista de interessados em um curso do CEVEST. Assim que uma turma do curso de interesse for oferecida, os alunos selecionados serão contactados por e-mail. Caso não compareça em até 7 dias, outro aluno será chamado para esta vaga. Você pode selecionar mais de um curso. Mesmo concluindo um curso, poderá ser chamado para outro curso que tenha marcado como sendo de seu interesse.</p>
    </div>

    <div class="row">
      <div class="col-md-4 order-md-2 mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Cursos</span>
          <span class="badge badge-secondary badge-pill">0</span>
        </h4>

        <ul class="list-group mb-3">

          {% for l in lista_curso %}

            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0">
                
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="{{ l.id }}">

                    <label class="custom-control-label" for="{{ l.id }}">
                      <a href="javascript:abrir('http://127.0.0.1:8000/cevest/curso/{{ l.id }}');">{{ l.nome }}</a>
                    </label>
                  </div>

                </h6>
<!--                <small class="text-muted">Breve descrição</small> -->
              </div>
<!--              <span class="text-muted">R$12</span> -->
            </li>

          {% endfor %}

        </ul>
      </div>

<!-- Cars 2 -->

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script type="text/javascript" src="{% static '../static/cevest/js/ajax.js' %}"></script>

      <div class="col-md-8 order-md-1">
        <h4 class="mb-3">Dados Cadastrais</h4>
        <form class="needs-validation" name="form" novalidate>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="nome">Nome</label>
              <input type="text" class="form-control" id="nome" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um nome válido.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="cpf">CPF</label>
              <input type="text" class="form-control" id="cpf" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um CPF válido.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="email">E-Mail</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">@</span>
              </div>
              <input type="text" class="form-control" id="email" placeholder="fulano@exemplo.com" required>
              <div class="invalid-feedback" style="width: 100%;">
                Seu e-mail é obrigatório.
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="nis">NIS</label>
              <input type="text" class="form-control" id="nis" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um número de NIS válido.
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <label for="bolsa_familia">Bolsa Família</label>
              <div class="d-block my-3">
                <div class="custom-control custom-radio">
                  <input id="sim" name="bolsa_familia" type="radio" class="custom-control-input" required>
                  <label class="custom-control-label" for="sim">Sim</label>
                </div>
                <div class="custom-control custom-radio">
                  <input id="nao" name="bolsa_familia" type="radio" class="custom-control-input" required checked>
                  <label class="custom-control-label" for="nao">Não</label>
                </div>
              </div>

              <div class="invalid-feedback">
                É obrigatório selecionar uma opção.
              </div>
            </div>

            <div class="col-md-3 mb-3">
              <label for="sexo">Sexo</label>

              <div class="d-block my-3">
                <div class="custom-control custom-radio">
                  <input id="feminino" name="sexo" type="radio" class="custom-control-input" checked required>
                  <label class="custom-control-label" for="feminino">Feminino</label>
                </div>
                <div class="custom-control custom-radio">
                  <input id="masculino" name="sexo" type="radio" class="custom-control-input" required>
                  <label class="custom-control-label" for="masculino">Masculino</label>
                </div>
              </div>

              <div class="invalid-feedback">
                É obrigatório selecionar uma opção.
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-2 mb-3">
              <label for="quant_filhos">Quant.Filhos</label>
              <input type="text" class="form-control" id="quant_filhos" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório informar quantidade de filhos.
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="dt_nascimento">Data Nascimento</label>
                {{ form.dt_nascimento}}

              <div class="invalid-feedback">
                É obrigatório inserir um CPF válido.
              </div>
            </div>
          </div>

          <hr class="mb-4">

          <div class="row">
            <div class="col-md-6 mb-3">

              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="bolsa_familia">
                <label class="custom-control-label" for="bolsa_familia">Cadastrado no Bolsa Família.</label>
              </div>
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="portador_necessidades_especiai">
                <label class="custom-control-label" for="portador_necessidades_especiai">Portador de Necessidades Especiais.</label>
              </div>
            </div>

            <div class="col-md-4 mb-3">

              <label for="disponibilidade">Disponibilidade</label>

              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="manha">
                <label class="custom-control-label" for="manha">Manhã</label>
              </div>

              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="tarde">
                <label class="custom-control-label" for="tarde">Tarde</label>
              </div>

              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="noite">
                <label class="custom-control-label" for="noite">Noite</label>
              </div>

            </div>
          </div>
          <hr class="mb-4">

          <div class="row">
            <div class="col-md-4 mb-3">
              <label for="celular">Celular</label>
              <input type="text" class="form-control" id="celular" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um número de celular.
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <label for="fixo_residencia">Tel. Residência</label>
              <input type="text" class="form-control" id="fixo_residencia" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um número de telefone residencial.
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <label for="fixo_trabalho">Tel. Trabalho</label>
              <input type="text" class="form-control" id="fixo_trabalho" placeholder="" value="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um número de telefone comercial.
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 mb-3">
              <label for="cidades">Cidade</label>
              <select class="custom-select d-block w-100 cidades" id="cidades" name="cidades" required>
                <option value="">Escolha...</option>

                {% for cidade in cidades %}
                  <option value="{{ cidade.id }}" selected>{{ cidade.nome }}</option>
                {% endfor %}

              </select>
              <div class="invalid-feedback">
                Por favor, escolha uma cidade válida.
              </div>
            </div>

            <div class="col-md-4 mb-3">
              <label for="bairro">Bairro</label>
              <select class="custom-select d-block w-100 bairro" id="bairro" name="bairro" required>
                <option value="">Escolha...</option>
              </select>
              <div class="invalid-feedback">
                Por favor, escolha um país válido.
              </div>
            </div>
            <div class="col-md-2 mb-3">
              <label for="cep">CEP</label>
              <input type="text" class="form-control" id="cep" placeholder="" required>
              <div class="invalid-feedback">
                É obrigatório inserir um CEP.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="endereco">Endereço</label>
            <input type="endereco" class="form-control" id="endereco" placeholder="">
            <div class="invalid-feedback">
              Favor inserir endereço
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 mb-3">
              <label for="profissao">Profissão</label>
              <select class="custom-select d-block w-100" id="profissao" name="profissao" required>
                <option value="">Escolha...</option>

                {% for p in profissoes %}
                  <option value="{{ p.id }}" selected>{{ p.nome }}</option>
                {% endfor %}

              </select>
              <div class="invalid-feedback">
                É obrigatório informar profissão.
              </div>
            </div>

            <div class="col-md-5 mb-3">
              <label for="escolaridade">Escolaridade</label>
              <select class="custom-select d-block w-100" id="escolaridade" name="escolaridade" required>

                {% for e in escolaridades %}
                  <option value="{{ e.id }}" selected>{{ e.descricao }}</option>
                {% endfor %}

              </select>
              <div class="invalid-feedback">
                É obrigatório informar escolaridade.
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <label for="desempregado">Desempregado</label>

              <div class="d-block my-3">
                <div class="custom-control custom-radio">
                  <input id="nao" name="desempregado" type="radio" class="custom-control-input" checked required>
                  <label class="custom-control-label" for="nao">Não</label>
                </div>
                <div class="custom-control custom-radio">
                  <input id="sim" name="desempregado" type="radio" class="custom-control-input" required>
                  <label class="custom-control-label" for="sim">Sim</label>
                </div>
              </div>
            </div>

          </div>

          <hr class="mb-4">
          <button class="btn btn-primary btn-lg btn-block" type="submit">Cadastrar</button>
        </form>
      </div>
    </div>
  </div>

    <!-- Principal JavaScript do Bootstrap
    ================================================== -->
    <!-- Foi colocado no final para a página carregar mais rápido -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
  <script src="../../assets/js/vendor/popper.min.js"></script>
  <script src="../../dist/js/bootstrap.min.js"></script>
  <script src="../../assets/js/vendor/holder.min.js"></script>
  <script>
    // Exemplo de JavaScript para desativar o envio do formulário, se tiver algum campo inválido.
    (function() {
      'use strict';

      window.addEventListener('load', function() {
        // Selecione todos os campos que nós queremos aplicar estilos Bootstrap de validação customizados.
        var forms = document.getElementsByClassName('needs-validation');

        // Faz um loop neles e previne envio
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
  </script>

{% endblock %}